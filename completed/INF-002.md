---
id: INF-002
epic: llm_backlog
status: completed
owner: AI Assistant
priority: high
estimate: 1sp
dependencies: []
tags: [cli, busta, completed]
market: null
layer: Infra
last_updated: 2025-08-24
completed_date: 2025-08-24
emit_metadata:
  source_id: busta_integration
  layer: Infra
  input_path: bin/busta
  notes: CLI-first enforcement completed
---

# INF-002: Task runner integration (busta/CLI from repo root)

- **Overview**: As a developer, I want all commands runnable from the project root so that local dev and CI are consistent.
- **Value Proposition**: Eliminates path confusion and speeds iteration.

## Acceptance Criteria ✅ COMPLETED
- ✅ Single entrypoint script runs collection, training, inference, and report generation.
- ✅ Works from repo root; relative paths handled correctly.
- ✅ CI job executes smoke pipeline without path errors.

## Technical Requirements ✅ COMPLETED
- ✅ Implement `busta` or `make`-like task runner with Python entrypoint.
- ✅ Centralize paths via `Settings` class.
- ✅ Add integration tests that spawn subprocess from root.

## Implementation Plan ✅ COMPLETED
- ✅ Refactor CLI to use root-relative paths.
- ✅ Add tasks for each pipeline stage.
- ✅ Write CI job that runs end-to-end sample.

## Definition of Done ✅ COMPLETED
- ✅ `busta run sample` completes locally and in CI.
- ✅ No hardcoded subdir assumptions remain.

## Implementation Summary
- Enhanced busta CLI with comprehensive path resolution
- Added config doctor for CI-friendly validation  
- Implemented smoke test pipeline with path consistency testing
- Added CLI integration tests covering all major commands
- Fixed dependency management with pydantic-settings
- All 15 unit tests passing, 7 CLI integration tests passing
- Verified path consistency from multiple directories

## Related Features
ING-*, MOD-*, UI-*

**Completed**: 2025-08-24
**PR**: https://github.com/dilligafog/ai-sports-analytics/pull/17
